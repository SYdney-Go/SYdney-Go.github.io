---
layout: single
title: "Chapter 13.1  운영체제의 메모리 관리 방식"
categories: [Do it! C언어 입문]
toc: true
author_profile: false
sidebar:
  nav: "docs"
---
<br><br><br>

# 1. 운영체제와 프로그래밍
C언어 소스코드의 모든 변수들은 컴파일하면 모두 메모리 주소로 바뀐다!<br>
즉, 기계어에서는 변수를 사용하지 않아도 변수의 주소만 알아도 변수의 값을 읽거나 바꿀수 있다! <br>
이런 컴퓨터 시스템의 메모리를 관리하는건 운영체제이다!


<br><br><br>

# 2. 메모리 주소 지정 방식
운영체제들은 메모리 주소를 1바이트 단위로 관리한다.<br>
그렇기 때문에 메모리를 사용하려면 사용할 메모리의 주소와 사용할 크기를 명시해야한다.<br>
> ex) "나는 100번지부터 2바이트 크기만큼 메모리를 사용할거야"

## (1) 직접 주소 지정 방식
사용할 메모리를 직접 적는 방식<br>
※ 이때 저장하는 값과 주소 모두 16진수의 바이트 단위로 저장한다.

### 단점
직접 주소 지정 방식은 '변수'문법과 같다.<br>
즉, 주소가 적힌 함수 내에서만 사용이 가능하다.

```c
#include <stdio.h>

void Test()
{
  short soft = 0x0000; /*직접주소지정방식으로 적힌 주소*/
  soft = tips; /*불러오고 싶지만, main함수의 tips를 불러올 수 없다*/
}

void main()
{
  short tips = 0x0005; /*직접주소지정방식으로 적힌 주소*/
  Test(); /*뀨, 옛다 오류*/
}

```

에러가 안나려면 함수에 주소를 매개변수로 전해주어야한다. (그래 귀찮다. 그래서 우리는 간접 주소 지정 방식을 사용할 것이다.)
```c
#include <stdio.h>

void Test(short data) /*주소 받았당*/
{
  short soft = 0x0000;
  soft = data; /*받은 주소를 사용할 수 있다*/
}

void main()
{
  short tips = 0x0005; /*직접주소지정방식으로 적힌 주소*/
  Test(tips); /*그 주소를 Test 함수에게 매개변수로 전달한다.*/
}
```

## (2) 간접 주소 지정 방식
> "어디에 가면 주소가 저장되어있는데, 가서 보시고 알아서 찾아가세요"
>> 그 가라는 주소를 바꿔먹을 수 있어서 다양성을 높일 수 있다 (현실에서 그러지는 말자)

우리는 보통 간접 주소 지정 방식을 많이 사용한다. <br>
일단 고정 주소를 직접 표기하기 위해 유효한 주소를 판딘하는 것은 매우 어렵다. <br>
또, 프로그램은 실행될 때마다 사용하는 메모리 공간이 달라지기 때문에 변수의 주소도 매번 변한다.<br><br>
따라서 사용 주소를 직접 입력하여 같은 주소를 쓰게하면 오류가 발생하기 쉽다. <br>

▶  그래서 우리는 프로그램 내부에 선언한 다른 변수의 주소를 받아와서 사용한다.  (얘를 포인터로 얻을 수 있다.)